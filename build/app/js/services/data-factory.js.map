{"version":3,"sources":["services/data-factory.es6"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;;;;;;;;AASb,SAAO,CACJ,MAAM,CAAC,OAAO,CAAC,CACf,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;;AAEzB,WAAS,IAAI,CAAC,eAAe,EAAE,aAAa,EAAE,KAAK,EAAE;AACnD,QAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,YAAQ,CAAC,EAAE,GAAG,IAAI,QAAQ,CAAC,kCAAkC,CAAC,CAAC;AAC/D,YAAQ,CAAC,EAAE,GAAG,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC3C,YAAQ,CAAC,IAAI,GAAG,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;;AAE3C,QAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;AACpC,QAAI,IAAI,EAAE;AACR,aAAO,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;AACxC,WAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,cAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAI;AAC7B,SAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAC,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,EAAC,EAAE,QAAQ,CAAC,EAAE,CAAC,KAAK,EAAE,CAAA,GAAI,IAAI,CAAC;AACrG,gBAAQ,CAAC,OAAO,GAAG,EAAE,CAAC;AACtB,eAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,UAAC,KAAK,EAAE,GAAG,EAAG;AAC3D,kBAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SAC3C,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ,MAAM;AACL,aAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC5B;AACD,WAAO,QAAQ,CAAC;GACjB;CACF,CAAA,EAAE,CAAE","file":"services/data-factory.js","sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc service\n   * @name query.factory:Data\n   *\n   * @description\n   *\n   */\n  angular\n    .module('query')\n    .factory('Data', Data);\n\n  function Data($firebaseObject, $firebaseAuth, State) {\n    let DataBase = {};\n    DataBase.db = new Firebase('https://queryful.firebaseio.com/');\n    DataBase.fb = $firebaseObject(DataBase.db);\n    DataBase.auth = $firebaseAuth(DataBase.db);\n\n    var auth = DataBase.auth.$getAuth();\n    if (auth) {\n      console.info(\"Logged in as:\", auth.uid);\n      State.user = auth;\n      DataBase.fb.$loaded().then(()=>{\n        !DataBase.fb[auth.uid] ? (DataBase.fb[auth.uid] = {created: Date.now()}, DataBase.fb.$save()) : null;\n        DataBase.history = {};\n        angular.forEach(DataBase.fb[auth.uid].history, (entry, key)=>{\n          DataBase.history[key] = JSON.parse(entry);\n        });\n      });\n    } else {\n      console.info(\"Logged out\");\n    }\n    return DataBase;\n  }\n}());\n"],"sourceRoot":"/source/"}