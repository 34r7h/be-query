{"version":3,"sources":["services/data-factory.es6"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACX,cAAY,CAAC;;;;;;;;;AASb,SAAO,CACJ,MAAM,CAAC,OAAO,CAAC,CACf,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;;AAEzB,WAAS,IAAI,CAAC,eAAe,EAAE,aAAa,EAAE,KAAK,EAAE;AACnD,QAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,YAAQ,CAAC,EAAE,GAAG,IAAI,QAAQ,CAAC,kCAAkC,CAAC,CAAC;AAC/D,YAAQ,CAAC,EAAE,GAAG,eAAe,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC3C,YAAQ,CAAC,IAAI,GAAG,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC3C,WAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;;AAE1B,QAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;AACpC,QAAI,IAAI,EAAE;AACR,aAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;AACvC,WAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,cAAQ,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,YAAI;AAC7B,eAAO,CAAC,IAAI,CAAC,mBAAmB,EAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;AAC/D,gBAAQ,CAAC,OAAO,GAAG,EAAE,CAAC;AACtB,eAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,UAAC,KAAK,EAAE,GAAG,EAAG;AACnD,kBAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SAC3C,CAAC,CAAC;OACJ,CAAC,CAAC;;;;;;;;KAQJ,MAAM;AACL,eAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;OAC3B;;AAED,YAAQ,CAAC,UAAU,GAAG,YAAM;AAC1B,aAAO,MAAM,CAAC;KACf,CAAC;AACF,WAAO,QAAQ,CAAC;GACjB;CACF,CAAA,EAAE,CAAE","file":"services/data-factory.js","sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc service\n   * @name query.factory:Data\n   *\n   * @description\n   *\n   */\n  angular\n    .module('query')\n    .factory('Data', Data);\n\n  function Data($firebaseObject, $firebaseAuth, State) {\n    let DataBase = {};\n    DataBase.db = new Firebase('https://queryful.firebaseio.com/');\n    DataBase.fb = $firebaseObject(DataBase.db);\n    DataBase.auth = $firebaseAuth(DataBase.db);\n    console.info(DataBase.db);\n\n    var auth = DataBase.auth.$getAuth();\n    if (auth) {\n      console.log(\"Logged in as:\", auth.uid);\n      State.user = auth;\n      DataBase.fb.$loaded().then(()=>{\n        console.info('Data.fb[auth.uid]',DataBase.fb[auth.uid], 'ya!');\n        DataBase.history = {};\n        angular.forEach(DataBase.fb[auth.uid], (entry, key)=>{\n          DataBase.history[key] = JSON.parse(entry);\n        });\n      });\n      /*$timeout(()=>{\n        console.info('Data.fb[auth.uid]',DataBase.fb[auth.uid], 'ya!');\n        DataBase.history = {};\n        angular.forEach(DataBase.fb[auth.uid], (entry, key)=>{\n          DataBase.history[key] = JSON.parse(entry);\n        });\n      },5000);*/\n    } else {\n      console.log(\"Logged out\");\n    }\n\n    DataBase.someMethod = () => {\n      return 'Data';\n    };\n    return DataBase;\n  }\n}());\n"],"sourceRoot":"/source/"}